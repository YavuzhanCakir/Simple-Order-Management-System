{"ast":null,"code":"import { LocalStorageService } from 'app/core/services/local-storage.service';\nimport { Router } from '@angular/router';\nimport { AlertifyService } from 'app/core/services/alertify.service';\nimport { CreateUser } from '../login/model/create-user'; // Kendi RegisterUser modelini eklemelisin\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from 'environments/environment';\nimport { AuthService } from '../login/services/auth.service';\nimport { UserService } from './services/user.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../login/services/auth.service\";\nimport * as i2 from \"app/core/services/local-storage.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"app/core/services/alertify.service\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"./services/user.service\";\nexport let CreateuserComponent = /*#__PURE__*/(() => {\n  class CreateuserComponent {\n    constructor(authService, localStorageService, router, alertifyService, httpClient, userServices) {\n      this.authService = authService;\n      this.localStorageService = localStorageService;\n      this.router = router;\n      this.alertifyService = alertifyService;\n      this.httpClient = httpClient;\n      this.userServices = userServices;\n      this.createUser = new CreateUser(); // Yeni kullanıcı nesnesi\n    }\n    ngOnInit() {\n      // username initialisi yapılabilir\n    }\n    // Kayıt işlemi\n    create() {\n      if (this.isFormValid()) {\n        const headers = new HttpHeaders().set('Content-Type', 'application/json');\n        this.httpClient.post(environment.getApiUrl + \"/Users\", this.createUser, {\n          headers\n        }).subscribe(data => {\n          if (data.success) {\n            this.alertifyService.success('Kayıt başarılı!');\n            this.router.navigate(['/login']); // Kayıt başarıyla tamamlandıktan sonra giriş sayfasına yönlendir.\n          } else {\n            this.alertifyService.error(data.message);\n          }\n        }, error => {\n          console.error('Kayıt Hatası:', error);\n          this.alertifyService.error('Kayıt sırasında bir hata oluştu.');\n        });\n      } else {\n        this.alertifyService.warning('Lütfen tüm alanları doldurun.');\n      }\n    }\n    createuser() {\n      console.log('Form data:', this.createUser); // Form verilerini konsola yazdırma\n      this.userServices.addUser(this.createUser).subscribe(response => {\n        console.log('User added successfully', response);\n      }, error => {\n        console.error('Error adding user', error);\n      });\n    }\n    // Formun geçerliliğini kontrol et\n    isFormValid() {\n      return !!this.createUser.FullName && !!this.createUser.Password && !!this.createUser.Email;\n    }\n    static #_ = this.ɵfac = function CreateuserComponent_Factory(t) {\n      return new (t || CreateuserComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.LocalStorageService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.AlertifyService), i0.ɵɵdirectiveInject(i5.HttpClient), i0.ɵɵdirectiveInject(i6.UserService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CreateuserComponent,\n      selectors: [[\"app-createuser\"]],\n      decls: 64,\n      vars: 12,\n      consts: [[1, \"container\", \"mt-5\"], [1, \"row\", \"justify-content-center\"], [1, \"col-md-8\", \"col-lg-6\"], [1, \"card\", \"shadow-lg\", \"rounded\"], [1, \"card-header\", \"bg-primary\", \"text-white\", \"text-center\"], [1, \"mb-0\"], [1, \"card-body\", \"p-4\"], [3, \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"CitizenId\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"CitizenId\", \"placeholder\", \"TC Kimlik No\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"FullName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"FullName\", \"placeholder\", \"Ad\\u0131n\\u0131z ve Soyad\\u0131n\\u0131z\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"Email\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"Email\", \"placeholder\", \"E-posta adresinizi girin\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"MobilePhones\", 1, \"form-label\"], [\"type\", \"tel\", \"id\", \"MobilePhones\", \"placeholder\", \"Telefon numaran\\u0131z\\u0131 girin\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"checkbox\", \"id\", \"Status\", 1, \"form-check-input\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"Status\", 1, \"form-check-label\"], [\"for\", \"BirthDate\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"BirthDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"Gender\", 1, \"form-label\"], [\"id\", \"Gender\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"1\"], [\"value\", \"0\"], [\"for\", \"RecordDate\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"RecordDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"Address\", 1, \"form-label\"], [\"id\", \"Address\", \"rows\", \"3\", \"placeholder\", \"Adresinizi girin\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"Notes\", 1, \"form-label\"], [\"id\", \"Notes\", \"rows\", \"3\", \"placeholder\", \"Ek notlar\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"UpdateContactDate\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"UpdateContactDate\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"Password\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"Password\", \"placeholder\", \"\\u015Eifrenizi girin\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"d-grid\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n      template: function CreateuserComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h4\", 5);\n          i0.ɵɵtext(6, \"Kullan\\u0131c\\u0131 Bilgileri Formu\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 6)(8, \"form\", 7);\n          i0.ɵɵlistener(\"ngSubmit\", function CreateuserComponent_Template_form_ngSubmit_8_listener() {\n            return ctx.createuser();\n          });\n          i0.ɵɵelementStart(9, \"div\", 8)(10, \"label\", 9);\n          i0.ɵɵtext(11, \"TC Kimlik No\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"input\", 10);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_input_ngModelChange_12_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.CitizenId, $event) || (ctx.createUser.CitizenId = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\", 8)(14, \"label\", 11);\n          i0.ɵɵtext(15, \"Ad Soyad\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"input\", 12);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_input_ngModelChange_16_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.FullName, $event) || (ctx.createUser.FullName = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"div\", 8)(18, \"label\", 13);\n          i0.ɵɵtext(19, \"E-posta\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"input\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_input_ngModelChange_20_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.Email, $event) || (ctx.createUser.Email = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 8)(22, \"label\", 15);\n          i0.ɵɵtext(23, \"Telefon Numaras\\u0131\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"input\", 16);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_input_ngModelChange_24_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.MobilePhones, $event) || (ctx.createUser.MobilePhones = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(25, \"div\", 8)(26, \"input\", 17);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_input_ngModelChange_26_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.Status, $event) || (ctx.createUser.Status = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"label\", 18);\n          i0.ɵɵtext(28, \"Aktif mi?\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(29, \"div\", 8)(30, \"label\", 19);\n          i0.ɵɵtext(31, \"Do\\u011Fum Tarihi\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"input\", 20);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_input_ngModelChange_32_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.BirthDate, $event) || (ctx.createUser.BirthDate = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(33, \"div\", 8)(34, \"label\", 21);\n          i0.ɵɵtext(35, \"Cinsiyet\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"select\", 22);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_select_ngModelChange_36_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.Gender, $event) || (ctx.createUser.Gender = $event);\n            return $event;\n          });\n          i0.ɵɵelementStart(37, \"option\", 23);\n          i0.ɵɵtext(38, \"Erkek\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"option\", 24);\n          i0.ɵɵtext(40, \"Kad\\u0131n\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(41, \"div\", 8)(42, \"label\", 25);\n          i0.ɵɵtext(43, \"Kay\\u0131t Tarihi\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"input\", 26);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_input_ngModelChange_44_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.RecordDate, $event) || (ctx.createUser.RecordDate = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(45, \"div\", 8)(46, \"label\", 27);\n          i0.ɵɵtext(47, \"Adres\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"textarea\", 28);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_textarea_ngModelChange_48_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.Address, $event) || (ctx.createUser.Address = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(49, \"div\", 8)(50, \"label\", 29);\n          i0.ɵɵtext(51, \"Notlar\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(52, \"textarea\", 30);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_textarea_ngModelChange_52_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.Notes, $event) || (ctx.createUser.Notes = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(53, \"div\", 8)(54, \"label\", 31);\n          i0.ɵɵtext(55, \"\\u0130leti\\u015Fim G\\u00FCncelleme Tarihi\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(56, \"input\", 32);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_input_ngModelChange_56_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.UpdateContactDate, $event) || (ctx.createUser.UpdateContactDate = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(57, \"div\", 8)(58, \"label\", 33);\n          i0.ɵɵtext(59, \"\\u015Eifre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(60, \"input\", 34);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CreateuserComponent_Template_input_ngModelChange_60_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.createUser.Password, $event) || (ctx.createUser.Password = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(61, \"div\", 35)(62, \"button\", 36);\n          i0.ɵɵtext(63, \"Kaydet\");\n          i0.ɵɵelementEnd()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(12);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.CitizenId);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.FullName);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.Email);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.MobilePhones);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.Status);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.BirthDate);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.Gender);\n          i0.ɵɵadvance(8);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.RecordDate);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.Address);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.Notes);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.UpdateContactDate);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.createUser.Password);\n        }\n      }\n    });\n  }\n  return CreateuserComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}