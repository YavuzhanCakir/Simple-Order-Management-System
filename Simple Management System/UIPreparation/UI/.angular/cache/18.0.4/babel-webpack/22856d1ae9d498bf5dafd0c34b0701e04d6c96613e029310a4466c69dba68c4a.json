{"ast":null,"code":"import { MatDialog } from '@angular/material/dialog';\nimport { ColorService } from '../color/services/color.service';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { UpdateColorDialogComponent } from './update-color-dialog/update-color-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../color/services/color.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/table\";\nconst _c0 = () => [\"name\", \"code\", \"actions\"];\nfunction ColorDialogComponent_mat_error_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Renk ad\\u0131 zorunludur.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ColorDialogComponent_mat_error_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Renk kodu zorunludur.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ColorDialogComponent_mat_error_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Renk kodu sadece say\\u0131lardan olu\\u015Fmal\\u0131d\\u0131r.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ColorDialogComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Renk Ad\\u0131\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ColorDialogComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const color_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(color_r1.name);\n  }\n}\nfunction ColorDialogComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Renk Kodu\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ColorDialogComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const color_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(color_r2.code);\n  }\n}\nfunction ColorDialogComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"\\u0130\\u015Flemler\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ColorDialogComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 19)(1, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ColorDialogComponent_td_28_Template_button_click_1_listener() {\n      const color_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.updateColor(color_r4));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ColorDialogComponent_td_28_Template_button_click_4_listener() {\n      const color_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteColor(color_r4.id));\n    });\n    i0.ɵɵelementStart(5, \"mat-icon\");\n    i0.ɵɵtext(6, \"delete\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ColorDialogComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 22);\n  }\n}\nfunction ColorDialogComponent_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 23);\n  }\n}\nexport let ColorDialogComponent = /*#__PURE__*/(() => {\n  class ColorDialogComponent {\n    constructor(dialog, colorService, fb) {\n      this.dialog = dialog;\n      this.colorService = colorService;\n      this.fb = fb;\n      this.colors = [];\n      this.colorForm = this.fb.group({\n        name: ['', Validators.required],\n        code: [null, [Validators.required, Validators.pattern(/^[0-9]+$/)]]\n      });\n    }\n    ngOnInit() {\n      this.getColors();\n    }\n    getColors() {\n      this.colorService.getColorList().subscribe(data => {\n        this.colors = data.filter(color => !color.isDeleted);\n      });\n    }\n    addColor() {\n      if (this.colorForm.valid) {\n        const newColor = this.colorForm.value;\n        this.colorService.addColor(newColor).subscribe(() => {\n          this.getColors();\n          this.colorForm.reset();\n        });\n      }\n    }\n    updateColor(color) {\n      const dialogRef = this.dialog.open(UpdateColorDialogComponent, {\n        width: '400px',\n        data: {\n          color\n        } // Seçilen renk bilgileri gönderiliyor\n      });\n      dialogRef.afterClosed().subscribe(updatedColor => {\n        if (updatedColor) {\n          this.colorService.updateColor(updatedColor).subscribe(() => {\n            this.getColors(); // Listeyi güncelle\n          });\n        }\n      });\n    }\n    deleteColor(id) {\n      this.colorService.deleteColor(id).subscribe(() => {\n        this.getColors();\n      });\n    }\n    static #_ = this.ɵfac = function ColorDialogComponent_Factory(t) {\n      return new (t || ColorDialogComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ColorService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ColorDialogComponent,\n      selectors: [[\"app-color-dialog\"]],\n      decls: 34,\n      vars: 10,\n      consts: [[\"mat-dialog-title\", \"\"], [\"mat-dialog-content\", \"\"], [3, \"ngSubmit\", \"formGroup\"], [\"appearance\", \"fill\", 1, \"full-width\"], [\"matInput\", \"\", \"formControlName\", \"name\"], [4, \"ngIf\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"code\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"name\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"code\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-dialog-actions\", \"\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-icon-button\", \"\", \"color\", \"accent\", 3, \"click\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n      template: function ColorDialogComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\", 0);\n          i0.ɵɵtext(1, \"Renk Y\\u00F6netimi\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 1)(3, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function ColorDialogComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.addColor();\n          });\n          i0.ɵɵelementStart(4, \"mat-form-field\", 3)(5, \"mat-label\");\n          i0.ɵɵtext(6, \"Renk Ad\\u0131\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"input\", 4);\n          i0.ɵɵtemplate(8, ColorDialogComponent_mat_error_8_Template, 2, 0, \"mat-error\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"mat-form-field\", 3)(10, \"mat-label\");\n          i0.ɵɵtext(11, \"Renk Kodu\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(12, \"input\", 6);\n          i0.ɵɵtemplate(13, ColorDialogComponent_mat_error_13_Template, 2, 0, \"mat-error\", 5)(14, ColorDialogComponent_mat_error_14_Template, 2, 0, \"mat-error\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"button\", 7);\n          i0.ɵɵtext(16, \"Ekle\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"h3\");\n          i0.ɵɵtext(18, \"Mevcut Renkler\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"table\", 8);\n          i0.ɵɵelementContainerStart(20, 9);\n          i0.ɵɵtemplate(21, ColorDialogComponent_th_21_Template, 2, 0, \"th\", 10)(22, ColorDialogComponent_td_22_Template, 2, 1, \"td\", 11);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(23, 12);\n          i0.ɵɵtemplate(24, ColorDialogComponent_th_24_Template, 2, 0, \"th\", 10)(25, ColorDialogComponent_td_25_Template, 2, 1, \"td\", 11);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(26, 13);\n          i0.ɵɵtemplate(27, ColorDialogComponent_th_27_Template, 2, 0, \"th\", 10)(28, ColorDialogComponent_td_28_Template, 7, 0, \"td\", 11);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵtemplate(29, ColorDialogComponent_tr_29_Template, 1, 0, \"tr\", 14)(30, ColorDialogComponent_tr_30_Template, 1, 0, \"tr\", 15);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(31, \"div\", 16)(32, \"button\", 17);\n          i0.ɵɵlistener(\"click\", function ColorDialogComponent_Template_button_click_32_listener() {\n            return ctx.closeDialog();\n          });\n          i0.ɵɵtext(33, \"Kapat\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          let tmp_1_0;\n          let tmp_2_0;\n          let tmp_3_0;\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.colorForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx.colorForm.get(\"name\")) == null ? null : tmp_1_0.hasError(\"required\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.colorForm.get(\"code\")) == null ? null : tmp_2_0.hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (tmp_3_0 = ctx.colorForm.get(\"code\")) == null ? null : tmp_3_0.hasError(\"pattern\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.colorForm.invalid);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"dataSource\", ctx.colors);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"matHeaderRowDef\", i0.ɵɵpureFunction0(8, _c0));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"matRowDefColumns\", i0.ɵɵpureFunction0(9, _c0));\n        }\n      },\n      dependencies: [i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i1.MatDialogTitle, i1.MatDialogActions, i1.MatDialogContent, i5.MatButton, i5.MatIconButton, i6.MatIcon, i7.MatFormField, i7.MatLabel, i7.MatError, i8.MatInput, i9.MatTable, i9.MatHeaderCellDef, i9.MatHeaderRowDef, i9.MatColumnDef, i9.MatCellDef, i9.MatRowDef, i9.MatHeaderCell, i9.MatCell, i9.MatHeaderRow, i9.MatRow]\n    });\n  }\n  return ColorDialogComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}