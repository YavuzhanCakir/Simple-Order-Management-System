{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { ProductService } from '../product/services/product.service';\nimport { ColorService } from '../color/services/color.service'; // ColorService'yi import ettik\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../product/services/product.service\";\nimport * as i3 from \"../color/services/color.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = a0 => ({\n  \"selected\": a0\n});\nfunction ProductDetailComponent_div_2_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_button_16_Template_button_click_0_listener() {\n      const color_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.onColorSelect(color_r3));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const color_r3 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"background-color\", color_r3.code);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx_r3.selectedColor === color_r3));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", color_r3.name, \" \");\n  }\n}\nfunction ProductDetailComponent_div_2_button_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_button_21_Template_button_click_0_listener() {\n      const size_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.onSizeSelect(size_r6));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const size_r6 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, ctx_r3.selectedSize === size_r6.id));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", size_r6.name, \" \");\n  }\n}\nfunction ProductDetailComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 4)(2, \"div\", 5)(3, \"div\", 4)(4, \"div\", 6)(5, \"div\", 7);\n    i0.ɵɵelement(6, \"img\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 9)(9, \"div\", 10)(10, \"h2\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 11)(13, \"h5\");\n    i0.ɵɵtext(14, \"Renk Se\\u00E7in:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 12);\n    i0.ɵɵtemplate(16, ProductDetailComponent_div_2_button_16_Template, 2, 6, \"button\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 14)(18, \"h5\");\n    i0.ɵɵtext(19, \"Beden Se\\u00E7in:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 12);\n    i0.ɵɵtemplate(21, ProductDetailComponent_div_2_button_21_Template, 2, 4, \"button\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 16)(23, \"h5\");\n    i0.ɵɵtext(24, \"Adet:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 17)(26, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.decrementQuantity());\n    });\n    i0.ɵɵtext(27, \"-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"input\", 19);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductDetailComponent_div_2_Template_input_ngModelChange_28_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.quantity, $event) || (ctx_r3.quantity = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.incrementQuantity());\n    });\n    i0.ɵɵtext(30, \"+\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(31, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_2_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      ctx_r3.searchProduct();\n      return i0.ɵɵresetView(ctx_r3.addToCart());\n    });\n    i0.ɵɵtext(32, \"Sepete Ekle\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate(\"alt\", ctx_r3.product.name);\n    i0.ɵɵproperty(\"src\", ctx_r3.staticImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.product.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.colors);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.sizes);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.quantity);\n  }\n}\nfunction ProductDetailComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"\\u00DCr\\u00FCn y\\u00FCkleniyor...\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let ProductDetailComponent = /*#__PURE__*/(() => {\n  class ProductDetailComponent {\n    constructor(route, productService, colorService // ColorService'i inject ettik\n    ) {\n      this.route = route;\n      this.productService = productService;\n      this.colorService = colorService;\n      this.colors = []; // Renkler burada saklanacak\n      this.sizes = [{\n        name: 'S',\n        id: 1\n      }, {\n        name: 'M',\n        id: 2\n      }, {\n        name: 'L',\n        id: 3\n      }, {\n        name: 'XL',\n        id: 4\n      }];\n      this.staticImage = 'https://i.pinimg.com/originals/2f/f7/7d/2ff77d149b32f6ac6b6664f9181ca803.png';\n      this.quantity = 1;\n      this.productDatabase = []; // API'den gelen dinamik veriler burada saklanacak\n      this.selectedName = \"\";\n      this.selectedColorId = null; // Seçilen ColorId\n      this.selectedSize = null; // Seçilen Size\n      this.foundProductId = null;\n    }\n    ngOnInit() {\n      // URL'den id parametresini almak\n      const productId = this.route.snapshot.paramMap.get('id');\n      if (productId) {\n        // id ile API'den ürün detaylarını alıyoruz\n        this.productService.getProductById(+productId).subscribe(data => {\n          this.product = data;\n          this.selectedName = this.product.name;\n          console.log('Seçili Ürün Adı:', this.selectedName);\n          this.loadProducts(); // Ürün listesini al\n          this.loadColors(); // Renk listesini al\n        });\n      }\n      console.log('Seçilen Renk ID:', this.selectedColorId);\n      console.log('Seçilen Beden ID:', this.selectedSize);\n      console.log('Ürün Size:', this.productDatabase[25].size);\n      console.log('Seçilen Size:', this.selectedSize);\n    }\n    // Ürün listesini ProductService'den alıyoruz\n    loadProducts() {\n      this.productService.getProductList().subscribe(data => {\n        this.productDatabase = data; // Dinamik olarak ürünleri yüklüyoruz\n        console.log('database', this.productDatabase);\n      });\n    }\n    // Renkleri ColorService ile alıyoruz\n    loadColors() {\n      this.colorService.getColorList().subscribe(data => {\n        this.colors = data; // Renkleri color'lar array'ine atıyoruz\n      });\n    }\n    // Renk seçme işlemi\n    onColorSelect(color) {\n      // Seçilen rengin id'sine erişim\n      this.selectedColorId = color.id;\n      console.log('Seçilen Renk ID:', this.selectedColorId);\n      // Seçilen renk işlemi burada yapılabilir\n    }\n    // beden seçme\n    onSizeSelect(size) {\n      this.selectedSize = size.name;\n      console.log('Seçilen Beden ID:', this.selectedSize);\n    }\n    // Sepete ekleme işlemi\n    incrementQuantity() {\n      this.quantity++;\n    }\n    decrementQuantity() {\n      if (this.quantity > 1) {\n        this.quantity--;\n      }\n    }\n    // Ürün arama fonksiyonu\n    searchProduct() {\n      // Seçilen Name, ColorId ve Size'yi kontrol edip, productDatabase içinde arama yapıyoruz\n      const foundProduct = this.productDatabase.find(product => product.name.toLowerCase() === this.selectedName.toLowerCase() && product.colorId === this.selectedColorId && product.size.toLowerCase() === this.selectedSize?.toLowerCase() // Bedenleri karşılaştırırken büyük küçük harf duyarsız yapıyoruz\n      );\n      console.log(\"productName\", this.product.name);\n      console.log('SelectedName', this.selectedName);\n      console.log('product.ColorId', this.product.colorId);\n      console.log('selectedColorId', this.selectedColorId);\n      console.log('Ürün Size:', this.product.size);\n      console.log('Seçilen Size:', this.selectedSize);\n      if (foundProduct) {\n        this.foundProductId = foundProduct.id;\n        console.log('Bulunan Ürün ID:', this.foundProductId); // Eşleşen ürünün ID'sini yazdırıyoruz\n      } else {\n        console.log('Eşleşen ürün bulunamadı.');\n      }\n    }\n    addToCart() {\n      // Ürünü bulma işlemi ve gerekli bilgileri oluşturduktan sonra\n      const cartItem = {\n        productId: this.foundProductId,\n        quantity: this.quantity\n      };\n      // localStorage'a ekleme\n      let cart = JSON.parse(localStorage.getItem('cart') || '[]'); // Mevcut sepeti al (eğer varsa)\n      cart.push(cartItem); // Yeni ürünü sepete ekle\n      localStorage.setItem('cart', JSON.stringify(cart)); // Sepeti tekrar kaydet\n      console.log('Sepet güncellendi:', cart);\n    }\n    static #_ = this.ɵfac = function ProductDetailComponent_Factory(t) {\n      return new (t || ProductDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i3.ColorService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductDetailComponent,\n      selectors: [[\"app-product-detail\"]],\n      decls: 5,\n      vars: 2,\n      consts: [[\"loading\", \"\"], [1, \"background-wrapper\"], [1, \"container\", \"py-5\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"row\"], [1, \"col-md-12\", \"product-container\"], [1, \"col-md-6\"], [1, \"product-image-container\"], [1, \"img-fluid\", 3, \"src\", \"alt\"], [1, \"product-details\"], [1, \"product-name\", \"mb-4\"], [1, \"mb-3\", \"color-selection\"], [1, \"btn-group\"], [\"class\", \"btn color-btn\", 3, \"ngClass\", \"backgroundColor\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"mb-3\", \"size-selection\"], [\"class\", \"btn btn-outline-dark size-btn\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"mb-3\", \"quantity-selection\"], [1, \"input-group\"], [1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [\"type\", \"number\", \"min\", \"1\", 1, \"form-control\", \"text-center\", 3, \"ngModelChange\", \"ngModel\"], [1, \"btn\", 3, \"click\"], [1, \"btn\", \"color-btn\", 3, \"click\", \"ngClass\"], [1, \"btn\", \"btn-outline-dark\", \"size-btn\", 3, \"click\", \"ngClass\"]],\n      template: function ProductDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2);\n          i0.ɵɵtemplate(2, ProductDetailComponent_div_2_Template, 33, 6, \"div\", 3)(3, ProductDetailComponent_ng_template_3_Template, 2, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          const loading_r7 = i0.ɵɵreference(4);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.product)(\"ngIfElse\", loading_r7);\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.MinValidator, i5.NgModel],\n      styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%]; (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  {// webpackBootstrap var __webpack_modules__ = ({726: (() => {throw new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):nnSyntaxErrornn(181:1) C:\\\\\\\\Users\\\\\\\\Yavuz\\\\\\\\Desktop\\\\\\\\DevArchProjem\\\\\\\\UIPreparation\\\\\\\\UI\\\\\\\\src\\\\\\\\app\\\\\\\\core\\\\\\\\components\\\\\\\\app\\\\\\\\productDetail\\\\\\\\productDetail.component.css Unknown wordnn u001b[90m 179 | u001b[39mu001b[33m}u001b[39mn u001b[90m 180 | u001b[39mnu001b[1mu001b[31m>u001b[39mu001b[22mu001b[90m 181 | u001b[39mu001b[33m.btnu001b[39mn u001b[90m     | u001b[39mu001b[1mu001b[31m^u001b[39mu001b[22mn u001b[90m 182 | u001b[39mn u001b[90m 183 | u001b[39mn\\\");})})[_ngcontent-%COMP%]; //[_ngcontent-%COMP%]   startup[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn\\\"t[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it\\\"s[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined\\nvar[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {}; __webpack_modules__[726](); resource = __webpack_exports__;})()[_ngcontent-%COMP%]   ;[_ngcontent-%COMP%]{}\"]\n    });\n  }\n  return ProductDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}